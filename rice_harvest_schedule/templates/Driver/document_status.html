{% extends 'base.html' %}

{% block title %}Document Status{% endblock %}

{% block content %}
<h2 class="text-2xl font-bold mb-4">Document Status</h2>
<table class="min-w-full bg-white">
    <thead class="bg-gray-800 text-white">
        <tr>
            <th class="w-1/3 py-3 px-4 uppercase font-semibold text-sm">Document Type</th>
            <th class="w-1/3 py-3 px-4 uppercase font-semibold text-sm">Status</th>
        </tr>
    </thead>
    <tbody class="text-gray-700">
        {% for document in documents %}
        <tr>
            <td class="py-3 px-4">ID Card</td>
            <td class="py-3 px-4">{{ document.id_card.url }}</td>
        </tr>
        <tr>
            <td class="py-3 px-4">Driving License</td>
            <td class="py-3 px-4">{{ document.driving_license.url }}</td>
        </tr>
        <tr>
            <td class="py-3 px-4">Vehicle Registration</td>
            <td class="py-3 px-4">{{ document.vehicle_registration.url }}</td>
        </tr>
        <tr>
            <td class="py-3 px-4">Driver Photo</td>
            <td class="py-3 px-4">{{ document.driver_photo.url }}</td>
        </tr>
        <tr>
            <td class="py-3 px-4">Vehicle Photo</td>
            <td class="py-3 px-4">{{ document.vehicle_photo.url }}</td>
        </tr>
        <tr>
            <td class="py-3 px-4">Approval Status</td>
            <td class="py-3 px-4">
                {% if document.is_approved %}
                <span class="text-green-500">Approved</span>
                {% elif document.is_rejected %}
                <span class="text-red-500">Rejected</span>
                <p>Reason: {{ document.rejection_reason }}</p>
                <a href="{% url 'upload_document' %}" class="text-blue-500 hover:underline">Resubmit</a>
                {% else %}
                <span class="text-yellow-500">Pending</span>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
